\documentclass{article}

% comment line

\usepackage{fontspec}
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
}
\usepackage{currfile}
\usepackage{amsmath,amsfonts,amssymb,mathrsfs}
% \usepackage[backend=biber,style=gb7714-2015]{biblatex}
% \addbibresource[location=local]{large_database.bib}

\newcommand\wordcount{\input{|"texcount -inc -sum -0 -utf8 -ch -template={SUM} \currfilepath"}}


\newif\ifIncludeSub
\IncludeSubtrue


\title{bib\_lookup}
\author{WEN Hao}
\date{}

\setlength{\parskip}{1em}

\begin{document}

\maketitle

\section{Introduction}

A place to store all the bib references used in my research, e.g. \cite{Wen_cpsc2021,torch_ecg_paper,Kang_2022_cinc2021_iop,wen_cinc2021,Pang_2021_SpineParseNet,kiyasseh2021clocs}

BibLookup \cite{bib_lookup}.

$$\operatorname{prox}_{\rho f}(v) = \argmin_x \{f(x) + \dfrac{\rho}{2} \lVert x-v \rVert_2^2\}$$

% $$\argmin_x \mathcal{L}_{\rho}(x, x_0, \lambda) = \argmin_x \{f(x) + \langle \lambda, x-x_0 \rangle + \dfrac{\rho}{2} \lVert x-x_0 \rVert_2^2\}$$

% another comment line


\input{sample-source-sub1}

\input{
sample-source-sub2.tex
}

\input{\currfiledir sample-source-subdir/some-table}

\input{\currfileabsdir sample-source-subdir/some-tikz.tex}


% \IncludeSubfalse


% % should not include section 3
% \ifIncludeSub
% \input{sample-source-sub3.tex}
% \fi


% should not include section 3

\verb|here \input{sample-source-sub3.tex}| should not include section 3.

\verb*|here \input{sample-source-sub3.tex}| should not include section 3.

\begin{verbatim}
here
\input{sample-source-sub3.tex}
\end{verbatim}
should not include section 3.


% citations that should not be included in simplified bib
% typically these are in comments or verbatim environments
% this item \cite{mcmahan2017fed_avg} should not be included in simplified bib file

\verb|here \cite{reddi2020fed_opt}| should not be included in simplified bib file.
\verb*|here \cite{karimireddy2020scaffold}| should not be included in simplified bib file.
\begin{verbatim}
here
\cite{wang2019dgl}
\end{verbatim}
should not be included in simplified bib file.


\verb|\bibliography{not_exist.bib}| should not be detected as a bib file used.


% \printbibliography[heading=bibliography]

% \bibliography{large_database}  % we test the case where no bibliography is provided


\end{document}
